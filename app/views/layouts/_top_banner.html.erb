<style type="text/css">
    <link href

    =
    "http://cdn-images.mailchimp.com/embedcode/classic-081711.css"
    rel

    =
    "stylesheet"
    type

    =
    "text/css"
    >
    #mc_embed_signup {
        background: #fff;
        clear: left;
        font: 14px Helvetica, Arial, sans-serif;
        width: 400px;
    }

        /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
           We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
    .email {
        width: 320px;
    }

    .fname {
        width: 100px;
    }

    .lname {
        width: 150px;
    }

    .response {
        padding-left: 5px;
        padding-right: 5px;
    }
</style>


<div class="top_banner_main">
<%= image_tag "banner_logo.gif", :class => "my_banner_logo" %>

<%= image_tag "cathy_banner.gif", :class => "my_banner_image" %>
<% if params[:controller] != "devise/sessions" %>
    <% if request.env["PATH_INFO"] != '/special_offer' %>
        <div class='signup_box'>
        <div class='signup_boxcontent'>
        <div class="signup_header">
          Sign up for my eZine and Special Report:<br/>
          <strong>"5 Secrets to a Healthier,<br/>
            Sexier Spring Body"</strong> <br/>
        </div>

        <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>

        <!-- Begin MailChimp Signup Form -->
        <div id="mc_embed_signup">
          <form action="http://healthyhabitsutah.us4.list-manage1.com/subscribe/post?u=8fe04475e23666ff3b8e70a09&amp;id=fb36ff2674"
                method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate"
                target="_blank" novalidate>
            <table>
              <tr>
                <td colspan="2">
                  <input type="text" value="" name="FNAME" class="fname" id="mce-FNAME" placeholder='First Name'>
                  &nbsp;&nbsp;
                  <input type="text" value="" name="LNAME" class="lname" id="mce-LNAME" placeholder='Last Name'>
                </td>
              </tr>
              <tr>
                <td colspan='2'>
                  <input type="text" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Email Address">
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <div class="clear">
                    <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
                    &nbsp;&nbsp;&nbsp;&nbsp;
                  </div>
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <div id="mce-responses" class="clear">
                    <div class="response" id="mce-error-response" style="display:none"></div>
                    <div class="response" id="mce-success-response" style="display:none"></div>
                  </div>
                </td>
              </tr>
            </table>
          </form>
        </div>
        <script type="text/javascript">
            var fnames = new Array();
            var ftypes = new Array();
            fnames[0] = 'EMAIL';
            ftypes[0] = 'email';
            fnames[1] = 'FNAME';
            ftypes[1] = 'text';
            fnames[2] = 'LNAME';
            ftypes[2] = 'text';
            try {
                var jqueryLoaded = jQuery;
                jqueryLoaded = true;
            } catch (err) {
                var jqueryLoaded = false;
            }
            var head = document.getElementsByTagName('head')[0];
            if (!jqueryLoaded) {
                var script = document.createElement('script');
                script.type = 'text/javascript';
                script.src = 'http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js';
                head.appendChild(script);
                if (script.readyState && script.onload !== null) {
                    script.onreadystatechange = function () {
                        if (this.readyState == 'complete') mce_preload_check();
                    }
                }
            }
            var script = document.createElement('script');
            script.type = 'text/javascript';
            script.src = 'http://downloads.mailchimp.com/js/jquery.form-n-validate.js';
            head.appendChild(script);
            var err_style = '';
            try {
                err_style = mc_custom_error_style;
            } catch (e) {
                err_style = '#mc_embed_signup input.mce_inline_error{border-color:#6B0505;} ' +
                    '#mc_embed_signup div.mce_inline_error{margin: 0 0 1em 0; padding: 5px 10px; ' +
                    'background-color:#6B0505; font-weight: bold; z-index: 1; color:#fff;}';
            }
            var head = document.getElementsByTagName('head')[0];
            var style = document.createElement('style');
            style.type = 'text/css';
            if (style.styleSheet) {
                style.styleSheet.cssText = err_style;
            } else {
                style.appendChild(document.createTextNode(err_style));
            }
            head.appendChild(style);
            setTimeout('mce_preload_check();', 250);

            var mce_preload_checks = 0;
            function mce_preload_check() {
                if (mce_preload_checks > 40) return;
                mce_preload_checks++;
                try {
                    var jqueryLoaded = jQuery;
                } catch (err) {
                    setTimeout('mce_preload_check();', 250);
                    return;
                }
                try {
                    var validatorLoaded = jQuery("#fake-form").validate({});
                } catch (err) {
                    setTimeout('mce_preload_check();', 250);
                    return;
                }
                mce_init_form();
            }
            function mce_init_form() {
                jQuery(document).ready(function ($) {
                    var options = { errorClass: 'mce_inline_error', errorElement: 'div',
                        onkeyup: function () {
                        }, onfocusout: function () {
                        }, onblur: function () {
                        }  };
                    var mce_validator = $("#mc-embedded-subscribe-form").validate(options);
                    $("#mc-embedded-subscribe-form").unbind('submit');//remove the validator so we can get into beforeSubmit on the ajaxform, which then calls the validator
                    options = { url: 'http://healthyhabitsutah.us4.list-manage1.com/subscribe/post-json?u=8fe04475e23666ff3b8e70a09&id=fb36ff2674&c=?',
                        type: 'GET', dataType: 'json', contentType: "application/json; charset=utf-8",
                        beforeSubmit: function () {
                            $('#mce_tmp_error_msg').remove();
                            $('.datefield', '#mc_embed_signup').each(
                                function () {
                                    var txt = 'filled';
                                    var fields = new Array();
                                    var i = 0;
                                    $(':text', this).each(
                                        function () {
                                            fields[i] = this;
                                            i++;
                                        });
                                    $(':hidden', this).each(
                                        function () {
                                            var bday = false;
                                            if (fields.length == 2) {
                                                bday = true;
                                                fields[2] = {'value': 1970};//trick birthdays into having years
                                            }
                                            if (fields[0].value == 'MM' && fields[1].value == 'DD' && (fields[2].value == 'YYYY' ||
                                                (bday && fields[2].value == 1970) )) {
                                                this.value = '';
                                            } else if (fields[0].value == '' && fields[1].value == '' && (fields[2].value == '' ||
                                                (bday && fields[2].value == 1970) )) {
                                                this.value = '';
                                            } else {
                                                if (/\[day\]/.test(fields[0].name)) {
                                                    this.value = fields[1].value + '/' + fields[0].value + '/' + fields[2].value;
                                                } else {
                                                    this.value = fields[0].value + '/' + fields[1].value + '/' + fields[2].value;
                                                }
                                            }
                                        });
                                });
                            return mce_validator.form();
                        },
                        success: mce_success_cb
                    };
                    $('#mc-embedded-subscribe-form').ajaxForm(options);
                });
            }
            function mce_success_cb(resp) {
                $('#mce-success-response').hide();
                $('#mce-error-response').hide();
                if (resp.result == "success") {
                    $('#mce-' + resp.result + '-response').show();
                    $('#mce-' + resp.result + '-response').html(resp.msg);
                    $('#mc-embedded-subscribe-form').each(function () {
                        this.reset();
                    });
                } else {
                    var index = -1;
                    var msg;
                    try {
                        var parts = resp.msg.split(' - ', 2);
                        if (parts[1] == undefined) {
                            msg = resp.msg;
                        } else {
                            i = parseInt(parts[0]);
                            if (i.toString() == parts[0]) {
                                index = parts[0];
                                msg = parts[1];
                            } else {
                                index = -1;
                                msg = resp.msg;
                            }
                        }
                    } catch (e) {
                        index = -1;
                        msg = resp.msg;
                    }
                    try {
                        if (index == -1) {
                            $('#mce-' + resp.result + '-response').show();
                            $('#mce-' + resp.result + '-response').html(msg);
                        } else {
                            err_id = 'mce_tmp_error_msg';
                            html = '<div id="' + err_id + '" style="' + err_style + '"> ' + msg + '</div>';

                            var input_id = '#mc_embed_signup';
                            var f = $(input_id);
                            if (ftypes[index] == 'address') {
                                input_id = '#mce-' + fnames[index] + '-addr1';
                                f = $(input_id).parent().parent().get(0);
                            } else if (ftypes[index] == 'date') {
                                input_id = '#mce-' + fnames[index] + '-month';
                                f = $(input_id).parent().parent().get(0);
                            } else {
                                input_id = '#mce-' + fnames[index];
                                f = $().parent(input_id).get(0);
                            }
                            if (f) {
                                $(f).append(html);
                                $(input_id).focus();
                            } else {
                                $('#mce-' + resp.result + '-response').show();
                                $('#mce-' + resp.result + '-response').html(msg);
                            }
                        }
                    } catch (e) {
                        $('#mce-' + resp.result + '-response').show();
                        $('#mce-' + resp.result + '-response').html(msg);
                    }
                }
            }

        </script>
        <!--End mc_embed_signup-->

        </div>
        </div>
    <% end %>
<% end %>
</div>